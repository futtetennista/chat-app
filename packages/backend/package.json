{
  "name": "@chat-app/backend",
  "version": "1.0.0",
  "packageManager": "pnpm@9.12.2",
  "private": true,
  "license": "UNLICENSED",
  "scripts": {
    "bundle:before": "tsx ./scripts/cli.ts config:create --local-dev --openai-model gpt-4o-mini --anthropic-model claude-3-haiku-latest",
    "bundle:non-prod": "tsx ./scripts/cli.ts bundle non-prod",
    "bundle:prod": "tsx ./scripts/cli.ts bundle prod",
    "bundle:clean": "rm -rf $(jq -r .compilerOptions.outDir < tsconfig.json)",
    "clean": "rm -rf $(jq -r .compilerOptions.outDir < tsconfig.json) tsconfig.tsbuildinfo",
    "cli:chat": "tsx ./scripts/cli.ts chat",
    "compile": "tsc -b",
    "lint": "sam validate --template-file aws-sam.template.yml --lint",
    "c": "pnpm run compile",
    "start": "CHAT_APP_CONFIG_JSON=$(pnpm -s run bundle:before) sam local start-api --debug --template-file aws-sam.template.yml --warm-containers EAGER --parameter-overrides \"handler=$(jq -r .compilerOptions.outDir < tsconfig.json)/non-prod/index.js\"",
    "start:bundle": "pnpm run bundle:clean && pnpm run bundle:non-prod && pnpm run start",
    "start:watch": "concurrently --kill-others-on-fail \"nodemon\" \"pnpm run start\"",
    "test:local": "curl 'http://localhost:3000/v1/api/chat' --data '{\"model\":\"o1-mini\",\"message\":\"What is your knowledge cutoff date?\",\"history\":[]}'",
    "test:local:error": "curl 'http://localhost:3000/v1/api/chat' -H 'X-Chat-App-Test-Failure: 1'  --data '{\"model\":\"o1-mini\",\"message\":\"What is your knowledge cutoff date?\",\"history\":[]}'",
    "test": "pnpm run test:unit",
    "test:unit": "jest --passWithNoTests"
  },
  "dependencies": {
    "@anthropic-ai/sdk": "^0.32.1",
    "@aws-lambda-powertools/logger": "^2.10.0",
    "@chat-app/contracts": "workspace:*",
    "aws-lambda": "^1.0.7",
    "dotenv": "^16.4.5",
    "openai": "^4.76.3"
  },
  "devDependencies": {
    "@actions/core": "^1.11.1",
    "@chat-app/mocks": "workspace:*",
    "@commander-js/extra-typings": "^12.1.0",
    "@inquirer/prompts": "^7.1.0",
    "@swc/jest": "catalog:jest",
    "@tsconfig/node20": "catalog:typescript-node20",
    "@types/aws-lambda": "^8.10.145",
    "@types/jest": "catalog:jest",
    "@types/node": "catalog:typescript-node20",
    "commander": "^12.1.0",
    "concurrently": "^9.1.0",
    "esbuild": "^0.24.0",
    "fp-ts": "catalog:",
    "inquirer": "^12.1.0",
    "io-ts": "catalog:",
    "jest": "catalog:jest",
    "msw": "catalog:",
    "nodemon": "^3.1.7",
    "tsx": "^4.19.2",
    "typescript": "catalog:"
  }
}
